<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="main.blog.mapper.MenuMapper">

	<!--菜单查询-->
	<select id="getMenuList" parameterType="main.blog.dto.admin.MenuSearchDTO" resultType="main.blog.entity.Menu">
    	select * from fa_menu
    	<where>
	       	 <if test="keywords!= null">
				 menu_name LIKE concat('%',#{keywords},'%')
	       	 </if>
		</where>
    	order by menu_id desc
    </select>

	<!--获取菜单-->
	<select id="getMenuInfo" parameterType="int" resultType="main.blog.entity.Menu">
		select * from fa_menu where menu_id = #{menuId} limit 1
	</select>

	<!--新增标签-->
	<insert id="insertMenu" parameterType="main.blog.dto.admin.RoleSaveDTO">
		insert into fa_menu (role_name, status, remarks, create_by, update_by, create_time, update_time) VALUES (#{roleName}, #{status}, #{remarks}, #{createBy}, #{updateBy}, now(), now())
	</insert>

	<!--编辑标签-->
	<update id="updateMenu" parameterType="main.blog.dto.admin.RoleSaveDTO">
		update fa_menu set role_name = #{roleName}, status = #{status}, remarks = #{remarks}, update_by = #{updateBy}, update_time = now() where role_id = #{roleId}
	</update>

	<!--删除角色-->
	<delete id="deleteMenu" parameterType="int">
		delete from fa_menu where menu_id = #{menuId}
	</delete>
</mapper>
