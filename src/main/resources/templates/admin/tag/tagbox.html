<html>
<head>
	<title>标签管理</title>
	<link rel="stylesheet" href="/admin/layui/css/layui.css" />
	<link rel="stylesheet" href="/admin/css/main.css" />
</head>

<body class="mt-10 mr-10 ml-10">
<form class="layui-form" lay-size="sm" id="form">
	<div class="layui-panel-search">
		<div class="layui-input-inline">
			<label class="layui-form-label">关键词：</label>
			<div class="layui-input-block">
				<input lay-verify="verifInput" id="keywords" name="keywords" placeholder="请输入搜索关键词" autocomplete="off" class="layui-input" type="text">
			</div>
		</div>
		<button class="layui-btn layui-btn-normal layui-btn-search layui-btn-sm" type="button" lay-submit lay-filter="search">
			<i class="layui-icon layui-icon-search"></i>搜 索
		</button>
	</div>
</form>

<div class="layui-form"><table id="table" lay-filter="tag"></table></div>

<script th:inline="javascript" type="text/html" id="tool">
	<a href="javascript:void(0)" th:onclick="parent.change('{{d.tagName}}')">选择</a>
</script>

<script src="/admin/layui/layui.js"></script>
<script src="/admin/js/common.js"></script>
<script th:inline="javascript" type="text/javascript">
	layui.use(['jquery', 'form', 'layer'], function()
	{
		var table = layui.table, $ = layui.jquery, form = layui.form;
		let cols = [
			{type: 'numbers', title: '序号', width:'15%'},
			{field: 'tagName', title: '标签名称',  width: '70%'},
			{align: 'center', title: '操作', toolbar: '#tool'}
		];
		let tableData = table.render(renderOptions('/admin/tag/data', cols, false));

		// 数据查询
		form.on('submit(search)', function (data)
		{
			layui.table.reload('table', {where: data.field});
		});
	})
</script>
</body>
</html>
